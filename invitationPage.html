<!-- invitationPage.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Your Special Invitation</title>
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h1>Youâ€™re Invited ðŸ’–</h1>
    <div id="details"></div>
    <form id="responseForm">
      <input type="text" id="inviteeName" placeholder="Name" required>
      <textarea id="note" placeholder="Write a message back... ðŸ’¬" required></textarea>
      <button type="submit" name="answer" value="yes">Yes, Iâ€™d love to! ðŸ’ž</button>
      <button type="submit" name="answer" value="no">Sorry, maybe next time ðŸ’”</button>
    </form>
  </div>
  <script>
    const params = new URLSearchParams(window.location.search);
    const email = params.get("email");
    const date = params.get("date");
    const time = params.get("time");
    const place = params.get("place");
    const todo = params.get("todo");
    const type = params.get("type");

    document.getElementById("details").innerHTML = `
        <p><strong>Type:</strong> ${type === 'hangout' ? 'Friendly Hangout âœ¨' : 'Romantic Date ðŸ’˜'}</p>
        <p><strong>Date:</strong> ${date}</p>
        <p><strong>Time:</strong> ${time}</p>
        <p><strong>Place:</strong> ${place}</p>
        <p><strong>Plans:</strong> ${todo}</p>
    `;

    document.getElementById("responseForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const answer = e.submitter.value;
      const note = document.getElementById("note").value;
      const name = document.getElementById("inviteeName").value;
      const url = `thankPage.html?email=${encodeURIComponent(email)}&answer=${encodeURIComponent(answer)}&note=${encodeURIComponent(note)}&name=${encodeURIComponent(name)}`;
      window.location.href = url;
    });
  </script>
</body>
</html>